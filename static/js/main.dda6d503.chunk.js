(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{20:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(10),s=n.n(c),i=(n(20),n(5)),o=n(9),d=n.n(o),l=n(11),m=n(2),u=n(4),x=n(7),f=n.n(x),p=(n(24),n(0));function j(e){var t=e.card,n=e.index,r=e.onCardClick,a=e.flippedCount,c="".concat("/online-memory-game","/images/").concat(t.cardNum,".png");return Object(p.jsx)("div",{className:"scene cursor-pointer rounded-lg transition duration-150 ease-in-out transform  hover:scale-110",onClick:function(){t.isFlipped||r(n,a)},children:t.isVisible?Object(p.jsxs)("div",{className:"card ".concat(t.isFlipped?"is-flipped":""),children:[Object(p.jsx)("div",{className:"shadow-md rounded-lg mx-auto py-4 px-4 card__face card__face--front"}),Object(p.jsx)("div",{className:"bg-gray-100 mx-auto shadow-md rounded-lg py-4 px-4 card__face card__face--back",children:Object(p.jsx)("img",{src:c,alt:t.cardNum})})]}):null})}var b=n(12),g=n(13),h=n(15),v=n(14),O=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={secondsElapsed:e.seconds,timeStr:"00:00:00",stop:e.stop},r}return Object(g.a)(n,[{key:"tick",value:function(){this.setState((function(e){var t=e.secondsElapsed+1;return{secondsElapsed:t,timeStr:new Date(1e3*t).toISOString().substr(11,8)}}))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.stop||this.state.secondsElapsed===this.props.seconds||(clearInterval(this.interval),!1)}},{key:"componentDidMount",value:function(){this.interval=setInterval(this.tick.bind(this),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:this.state.timeStr})}}]),n}(r.Component);var y=function(e){var t=e.stars,n=Object(r.useState)([0,0,0,0,0]),a=Object(m.a)(n,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){for(var e=0;e<t;e++)c[e]=1;s(c)}),[c,t]),Object(p.jsx)("div",{children:c.map((function(e,t){return Object(p.jsx)("svg",{className:"inline mx-1 w-4 h-4 fill-current ".concat(e?"text-yellow-500":"text-gray-500"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(p.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},t)}))})};function k(e){var t=e.gameData,n=e.onCardUpdate,a=e.onRestart,c=Object(r.useState)([]),s=Object(m.a)(c,2),o=s[0],d=s[1],l=Object(r.useState)(0),x=Object(m.a)(l,2),f=x[0],b=x[1],g=function(e,r){var a=[];if(r<2&&(b(r+1),(a=Object(u.a)(o))[e].isFlipped=!0,d(a)),1===r){if(a.length){var c=Object(i.a)({},t);c.cards=a,localStorage.setItem("gameData",JSON.stringify(c))}var s=setTimeout((function(){var e=n(o).cards.reduce((function(e,t){return t.isFlipped=!1,e.push(t),e}),[]);d(e),b(0),clearTimeout(s)}),3e3)}};return Object(r.useEffect)((function(){d(t.cards)}),[t]),Object(p.jsxs)("main",{className:"my-10 mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 sm:my-6  md:my-8 lg:my-10  xl:my-14",children:[Object(p.jsxs)("h1",{className:"text-center mb-4 text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[Object(p.jsx)("span",{className:"inline",children:"Memory"})," ",Object(p.jsx)("span",{className:"text-indigo-600 inline",children:"Game"})]}),Object(p.jsxs)("div",{className:"grid grid-cols-2 gap-4  text-base text-red-500 md:text-xl mb-4",children:[Object(p.jsxs)("div",{children:["Elapsed Time:"," ",Object(p.jsx)(O,{stop:t.game_ended,seconds:t.elapsed_time})]}),Object(p.jsxs)("div",{className:"text-right",children:["Error Score: ",t.error_score]})]}),t.game_ended?Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("div",{className:"md:text-2xl my-4",children:"Game Ended"}),Object(p.jsx)("div",{children:Object(p.jsx)(y,{stars:t.rating})}),Object(p.jsxs)("div",{className:"text-sm",children:["You got ",t.rating," stars"]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:a,className:"mt-4 focus:outline-none focus:ring-4 focus:ring-pink-500 focus:ring-opacity-50 mx-auto flex items-center justify-center px-6 py-2 border border-transparent text-base font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 md:py-2 md:text-lg md:px-10",children:"Restart"})})]}):Object(p.jsx)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-5",children:o.map((function(e,t){return Object(p.jsx)(j,{card:e,index:t,onCardClick:g,flippedCount:f},t)}))})]})}k.protoType={difficulty:f.a.string.isRequired};var N=k;function w(e){var t=e.onDifficultySelection;return Object(p.jsx)("div",{children:Object(p.jsx)("main",{className:"mt-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 sm:mt-12  md:mt-16 lg:mt-20  xl:mt-28",children:Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsxs)("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[Object(p.jsx)("span",{className:"inline",children:"Memory"})," ",Object(p.jsx)("span",{className:"text-indigo-600 inline",children:"Game"})]}),Object(p.jsx)("p",{className:"mt-10 sm:mt-10  md:mt-10 lg:mt-12  xl:mt-16 text-base text-gray-500  sm:text-lg sm:max-w-xl sm:mx-auto md:text-xl ",children:"Please select game difficulty:"}),Object(p.jsxs)("div",{className:"mt-5 sm:mt-8 sm:flex justify-center",children:[Object(p.jsx)("div",{className:"rounded-md shadow",children:Object(p.jsx)("button",{onClick:function(){return t("easy")},className:"focus:outline-none focus:ring-4 focus:ring-pink-500 focus:ring-opacity-50  w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 md:py-4 md:text-lg md:px-10",children:"Easy"})}),Object(p.jsx)("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:Object(p.jsx)("button",{onClick:function(){return t("medium")},className:"focus:outline-none focus:ring-4 focus:ring-pink-500 focus:ring-opacity-50  w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 md:py-4 md:text-lg md:px-10",children:"Medium"})}),Object(p.jsx)("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:Object(p.jsx)("button",{onClick:function(){return t("hard")},className:"focus:outline-none focus:ring-4 focus:ring-pink-500 focus:ring-opacity-50 w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-pink-600 hover:bg-pink-700 md:py-4 md:text-lg md:px-10",children:"Hard"})})]})]})})})}w.protoType={onDifficultySelection:f.a.func.isRequired};var S=w,_=function(e){var t=Array.from({length:e},(function(e,t){return t+1}));return function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}([].concat(Object(u.a)(t),Object(u.a)(t)))},C=function(e){var t=function(e){var t=[];switch(e){case"easy":t=_(5);break;case"medium":t=_(10);break;case"hard":t=_(25);break;default:t=_(5)}return t.reduce((function(e,t){return e.push({cardNum:t,isFlipped:!1,isVisible:!0}),e}),[])}(e);return{created_at:new Date,error_score:0,elapsed_time:0,game_ended:!1,rating:0,cards:t}},D=function(e){"string"===typeof e.created_at&&(e.created_at=new Date(e.created_at)),e.elapsed_time=function(e){var t=new Date-e;return t/=1e3,Math.round(t)}(e.created_at);var t=e.cards.reduce((function(e,t,n){return t.isFlipped&&(t.index=n,e.push(t)),e}),[]);if(2!==t.length)return e;var n=Object(m.a)(t,2),r=n[0],a=n[1];return r.cardNum!==a.cardNum?e.error_score++:(e.cards[r.index].isVisible=!1,e.cards[a.index].isVisible=!1),0===e.cards.reduce((function(e,t){return e=t.isVisible?e+1:e}),0)&&(e.game_ended=!0,e.rating=function(e){var t=(60*e.error_score+e.elapsed_time)/e.cards.length,n=0;switch(!0){case t<=100:n=5;break;case t<=150:n=4;break;case t<=200:n=3;break;case t<=250:n=2;break;default:n=1}return n}(e)),e};var F=function(){var e=Object(r.useState)({}),t=Object(m.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t),a(n),localStorage.setItem("gameData",JSON.stringify(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(){if(localStorage.getItem("gameData")){var e=JSON.parse(localStorage.getItem("gameData")),t=D(e),n=t.cards.reduce((function(e,t){return t.isFlipped=!1,e.push(t),e}),[]);t.cards=n,a(t)}}()}),[]),Object(p.jsx)(p.Fragment,{children:n.cards?Object(p.jsx)(N,{gameData:n,onCardUpdate:function(e){var t=Object(i.a)(Object(i.a)({},n),{},{cards:e}),r=D(t);return a(r),localStorage.setItem("gameData",JSON.stringify(t)),r},onRestart:function(){localStorage.removeItem("gameData"),a({})}}):Object(p.jsx)(S,{onDifficultySelection:c})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(F,{})}),document.getElementById("root")),E()}},[[26,1,2]]]);
//# sourceMappingURL=main.dda6d503.chunk.js.map